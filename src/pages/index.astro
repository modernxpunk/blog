---
import Layout from "../Layout.astro";
const posts = await Astro.glob("./posts/*.mdx");
---

<Layout>
	<div class="flex flex-col gap-8">
		<div class="flex gap-2 items-center">
			<div class="w-12 h-12 rounded-full">
				<img class="rounded-[inherit]" src="https://fakeimg.pl/100/" width="100" height="100" alt="avatar" />
			</div>
			<div>
				<p>Personal blog by <span class="font-bold text-secondary">modernpunk</span>.</p>
				<p>I explain with words and code.</p>
			</div>
		</div>
		<div class="flex-1">
			<div class="space-y-8">
				{
					posts.map((post) => {
						const { title, description, date, preview } = post.frontmatter;
						const url = post.url;
						return (
							<a href={url} class="block bg-base-100 shadow-2xl rounded-2xl focus:outline-secondary outline-offset-4">
								<img width={600} height={256} class="w-full max-h-64 max-h object-cover rounded-t-[inherit]" src={preview} alt={title} />
								<div class="p-4">
									<p class="font-bold text-3xl text-primary">{title}</p>
									<p class="text-sm opacity-70">{date}</p>
									<p>{description}</p>
								</div>
							</a>
						);
					})
				}
			</div>
		</div>
	</div>
</Layout>
